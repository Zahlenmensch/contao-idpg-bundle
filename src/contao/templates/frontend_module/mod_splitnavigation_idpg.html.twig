{# Split Navigation Template for Contao #}
<nav role="navigation"
     aria-label="Hauptnavigation"
     itemscope
     itemtype="https://schema.org/SiteNavigationElement">

  {% if items is defined and items|length > 0 %}

    {# Primary navigation block (first two items) #}
    <section class="nav-primary" aria-label="Primary navigation level">
      <ul class="level_1" role="list">
        {% for item in items %}
          {% if loop.index <= 2 %}
            {% set liClass = item.class %}
            {% if item.trail %}{% set liClass = liClass ~ ' trail' %}{% endif %}
            {% if item.active %}{% set liClass = liClass ~ ' active' %}{% endif %}

            <li{% if liClass is not empty %} class="{{ liClass|trim }}"{% endif %}>
              <a itemprop="url"
                 href="{{ item.href }}"
                 title="{{ item.title|default(item.link) }}"
                 aria-label="{{ item.title|default(item.link) }}"
                 {% if item.active %}aria-current="page"{% endif %}
                 {% if item.target %}target="_blank" rel="noopener noreferrer"{% endif %}
                 {% if item.noFollow %}rel="nofollow"{% endif %}
                 {% if item.accesskey is defined and item.accesskey is not empty %}accesskey="{{ item.accesskey }}"{% endif %}
                 {% if item.tabindex is defined %}tabindex="{{ item.tabindex }}"{% endif %}>
                {{ item.link }}
              </a>

              {% if item.subitems is not empty %}
                {{ item.subitems|raw }}
              {% endif %}
            </li>
          {% endif %}
        {% endfor %}
      </ul>
    </section>

    {# Logo as article insertion between navigation blocks #}
    <section class="nav-logo" aria-label="Logo or custom content">
      {% set alias = headerArticleAlias is not empty ? headerArticleAlias : 'header-logo' %}
      {{ ('{{insert_article::' ~ alias ~ '}}') | insert_tag }}
    </section>

    {# Secondary navigation block (remaining items) #}
    <section class="nav-secondary" aria-label="Secondary navigation level">
      <ul class="level_1" role="list">
        {% for item in items %}
          {% if loop.index > 2 %}
            {% set liClass = item.class %}
            {% if item.trail %}{% set liClass = liClass ~ ' trail' %}{% endif %}
            {% if item.active %}{% set liClass = liClass ~ ' active' %}{% endif %}

            <li{% if liClass is not empty %} class="{{ liClass|trim }}"{% endif %}>
              <a itemprop="url"
                 href="{{ item.href }}"
                 title="{{ item.title|default(item.link) }}"
                 aria-label="{{ item.title|default(item.link) }}"
                 {% if item.active %}aria-current="page"{% endif %}
                 {% if item.target %}target="_blank" rel="noopener noreferrer"{% endif %}
                 {% if item.noFollow %}rel="nofollow"{% endif %}
                 {% if item.accesskey is defined and item.accesskey is not empty %}accesskey="{{ item.accesskey }}"{% endif %}
                 {% if item.tabindex is defined %}tabindex="{{ item.tabindex }}"{% endif %}>
                {{ item.link }}
              </a>

              {% if item.subitems is not empty %}
                {{ item.subitems|raw }}
              {% endif %}
            </li>
          {% endif %}
        {% endfor %}
      </ul>
    </section>

  {% else %}
    <section class="nav-empty" aria-label="No navigation available">
      <p class="no-navigation">Keine Navigationselemente gefunden.</p>
    </section>
  {% endif %}
</nav>